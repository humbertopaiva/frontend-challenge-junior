import{Order}from"../models/Order.js";const CartController=e=>{const t=document.getElementById("cart-items-list"),r=document.getElementById("total"),n=document.getElementById("order-link"),a=Order(),i=()=>{t.innerHTML="",r.innerHTML="",e.getItemsList().map(e=>{const r=document.createElement("li"),n=document.createElement("img"),a=document.createElement("div"),i=document.createElement("h5"),d=document.createElement("span"),s=document.createElement("button");r.classList.add("carditem"),n.classList.add("image"),i.classList.add("name"),d.classList.add("price"),s.classList.add("remove"),a.classList.add("description"),n.src=e.img_url,i.innerText=e.name,d.innerText=e.price.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),s.innerHTML='<i class="fa-solid fa-trash-can"></i>',s.id=e.id,r.appendChild(n),a.appendChild(i),a.appendChild(d),r.appendChild(a),r.appendChild(s),t.appendChild(r)}),d(),(()=>{const t=Array.from(document.querySelectorAll(".remove"));for(let r of t)r.addEventListener("click",()=>{e.removeItem(r.id),i(e.getItemsList())})})()},d=()=>{if(e.getItemsList().length>0){const t=document.createElement("span");return t.innerText=a.totalPrice(e.getItemsList()),r.innerHTML='<span id="total-price" class="total">Pre√ßo total:</span>',r.appendChild(t),console.log(a.createOrder(e.getItemsList())),void(n.href=a.createOrder(e.getItemsList()))}r.innerHTML='<span id="total-price" class="total -empty">Carrinho vazio</span>'};return{createList:i}};export{CartController};